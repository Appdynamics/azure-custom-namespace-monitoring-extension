#prefix used to show metrics in AppDynamics
metricPrefix: "Server|Component:<TIER_ID>|Custom Metrics|Azure|"
#metricPrefix: "Custom Metrics|Azure|"

accounts:
#https://docs.microsoft.com/en-us/azure/virtual-machines/linux/metrics-vm-usage-rest
  - displayName: "AzureAccount VM"
    credentials:
         client: ""
         tenant: ""
         secret: ""
         subscriptionId: ""

    services:
       - resourceGroups: ["my.*"]  # Please put the required resourceGroups only
         serviceName: "Virtual machine"
         regions: [".*"]
         serviceInstances: [".*"]

    targets:
       - displayName: "VM Target"
         resource: "/resourceGroups/<MY-RESOURCE-GROUP>/providers/Microsoft.Compute/virtualMachines/<MY-RESOURCE>/providers/microsoft.insights/metrics"
         resourceGroups: ["my-rg"]
         serviceInstances: ["vm.*"]
         metrics:
            - attr: "Network Out Total"
            - attr: "Disk Write Bytes"
            - attr: "Disk Read Operations/Sec"
            - attr: "Disk Write Operations/Sec"
         apiVersion: "2019-07-01"
         timeSpan: "10" #in minutes https://docs.microsoft.com/en-us/windows/win32/taskschd/repetitionpattern-interval

#  - displayName: "AzureAccount Storage"
#    resourceGroups: ["test-ext.*"]
#    service: "Storage account"
#    regions: ["East US"]
#    serviceInstances: [".*"]
#    credentials:
#         client: ""
#         tenant: ""
#         secret: ""
#         subscriptionId: ""
#

#  - displayName: "AzureAccount Container"
#    resourceGroups: [".*"]
#    service: "Container instances"
#    regions: [".*"]
#    serviceInstances: [".*"]
#    credentials:
#         client: ""
#         tenant: ""
#         secret: ""
#         subscriptionId: ""

#  - displayName: "AzureAccount Sql server"
#    resourceGroups: [".*"]
#    service: "SQL server"
#    regions: ["australia.*"]
#    serviceInstances: [".*"]
#    credentials:
#         client: ""
#         tenant: ""
#         secret: ""
#         subscriptionId: ""

#Provide Encryption key for Encrypted password.
credentialsDecryptionConfig:
  enableDecryption: "false"
  encryptionKey:

proxyConfig:
  host:
  port:
  username:
  password:


filterStats: false

metricsTimeRange:
  startTimeInMinsBeforeNow: 10
  endTimeInMinsBeforeNow: 0

concurrencyConfig:
  noOfServiceCollectorThreads: 3
  noOfResourceGroupThreads: 3
  noOfMetricsCollectorThreads: 3
  threadTimeout: 30  #Thread timeout in seconds

#By default we support upto 5 accounts, and 1 thread is required per account.
numberOfThreads: 5